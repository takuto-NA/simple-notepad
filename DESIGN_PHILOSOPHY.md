# Pure Function Apps - 設計哲学

このドキュメントは、シンプルで実用的なデスクトップアプリケーション群を開発するための共通設計哲学です。

## 🎯 核となる5つの哲学

### 1. 単機能純粋性 (Pure Function Philosophy)
- **一つのアプリ = 一つの明確な目的**
- 複合機能ではなく、それぞれが専門特化
- Unix哲学「一つのことを、うまくやる」

### 2. 即座の準備状態 (Instant Ready State)
- **起動 = すぐに作業開始**
- 履歴や設定画面ではなく、白紙の新鮮な状態
- 「新しい気持ち」で始められる体験

### 3. 軽量ユニバーサル (Lightweight Universal)
- **どこでも同じ体験**
- ネイティブ性能 + Web互換性
- リソースを最小限に抑制
- Raspberry Piでも快適動作

### 4. 視覚的ミニマリズム (Visual Minimalism)
- **機能が見た目**
- 装飾 < 実用性
- 認知負荷の最小化
- 90%以上を作業領域に

### 5. 直感的操作 (Intuitive Interaction)
- **考えなくても使える**
- キーボード最優先設計
- マウスは補助的
- ショートカットの統一

## 🛠️ 技術スタック標準

### フロントエンド
- **フレームワーク**: Tauri + TypeScript
- **スタイリング**: Tailwind CSS
- **レンダリング**: HTML/CSS/JavaScript

### バックエンド
- **言語**: Rust
- **権限**: 最小限の権限要求

### 配布
- **形式**: 単一実行ファイル
- **サイズ**: 10MB以下を目標
- **起動時間**: 3秒以内

## 📋 アプリケーション設計チェックリスト

### ✅ 起動・終了
- [ ] 3秒以内に起動
- [ ] 白紙/初期状態で開始
- [ ] 未保存データの確認ダイアログ
- [ ] 緊急時のみ自動保存

### ✅ UI/UX
- [ ] 90%以上が作業領域
- [ ] 必要最小限のツールバー
- [ ] アイコンベースのボタン
- [ ] ダークモード対応
- [ ] 一貫したキーボードショートカット

### ✅ 性能
- [ ] メモリ使用量200MB以下
- [ ] CPU使用率平常時5%以下
- [ ] 大容量データ対応
- [ ] Raspberry Pi動作確認

### ✅ 互換性
- [ ] Windows/macOS/Linux対応
- [ ] ARM64対応（Apple Silicon/Raspberry Pi）
- [ ] 日本語対応
- [ ] 文字コード自動判定

## 🎨 UI設計パターン

### レイアウト構造
```
┌─────────────────────────────────┐
│ [🔧] [💾] [🔍] [⚙️]    [状態表示] │ ← ツールバー (最小限)
├─────────────────────────────────┤
│                                 │
│                                 │
│        メイン作業領域             │ ← 90%以上の面積
│                                 │
│                                 │
├─────────────────────────────────┤
│ 行:1 列:1 | 文字数:0 | UTF-8      │ ← ステータスバー
└─────────────────────────────────┘
```

### カラーパレット
```css
/* ライトモード */
--bg-primary: #ffffff
--bg-secondary: #f8f9fa
--text-primary: #1a1a1a
--text-secondary: #666666
--border: #e5e5e5
--accent: #2563eb

/* ダークモード */
--bg-primary: #1a1a1a
--bg-secondary: #2d2d2d
--text-primary: #ffffff
--text-secondary: #a0a0a0
--border: #404040
--accent: #60a5fa
```

### ボタンスタイル
- 32x32px 正方形
- 絵文字アイコン使用
- ホバー時の視覚フィードバック
- アクティブ状態の表示

## ⌨️ 標準キーボードショートカット

### 共通操作
| 機能 | ショートカット | 備考 |
|------|-------------|------|
| 新規作成 | `Ctrl+N` | 全アプリ共通 |
| ファイル開く | `Ctrl+O` | ファイル系アプリ |
| 保存 | `Ctrl+S` | 全アプリ共通 |
| 名前を付けて保存 | `Ctrl+Shift+S` | 全アプリ共通 |
| 元に戻す | `Ctrl+Z` | 編集系アプリ |
| やり直し | `Ctrl+Y` | 編集系アプリ |
| 検索 | `Ctrl+F` | 検索対応アプリ |
| 置換 | `Ctrl+H` | 編集系アプリ |
| ダークモード切替 | `Ctrl+D` | 全アプリ共通 |
| 設定 | `Ctrl+,` | 設定があるアプリ |
| 終了 | `Alt+F4` | Windows標準 |

### アプリ固有操作
- 各アプリの主機能に`Ctrl+Enter`を割り当て
- サブ機能は`Ctrl+数字`で配置

## 📁 プロジェクト構造テンプレート

```
app-name/
├── src/
│   ├── main.ts           # メイン処理
│   ├── styles.css        # スタイル定義
│   └── types.ts          # 型定義
├── src-tauri/
│   ├── src/
│   │   └── main.rs       # Rustバックエンド
│   ├── tauri.conf.json   # Tauri設定
│   └── Cargo.toml        # Rust依存関係
├── index.html            # メインHTML
├── package.json          # Node.js依存関係
├── tailwind.config.js    # Tailwind設定
├── README.md             # 使用方法
├── DESIGN_PHILOSOPHY.md  # 設計思想
└── .gitignore           # Git設定
```

## 🚀 アプリケーション一覧（予定）

### 🔧 ユーティリティ系
- [x] **シンプルメモ帳** - テキスト編集特化
- [ ] **時計・タイマー** - プレゼン展示向け大画面表示
- [ ] **QRコード生成器** - テキスト/URL即座変換
- [ ] **ハッシュ変換器** - MD5/SHA256/BASE64一括処理
- [ ] **圧縮解凍ツール** - ドラッグ&ドロップ対応

### 🎨 クリエイティブ系
- [ ] **シンプルペイント** - 透過PNG/ドット絵対応
- [ ] **スクリーンショット** - 範囲指定/注釈機能
- [ ] **作図ヘルパー** - 配線図/フローチャート特化

### 📁 メディア系
- [ ] **画像ビューア** - 一括表示/サムネイル
- [ ] **メディア変換器** - 動画/画像/音楽一括変換
- [ ] **メディアプレイヤー** - 軽量再生

### 📅 生産性系
- [ ] **スケジュール** - トースト通知対応
- [ ] **アプリランチャー** - キーボード操作特化
- [ ] **ファイルクリーナー** - 不要データ検出削除

### 🔒 セキュリティ系
- [ ] **ステガノグラフィ** - 画像内データ隠蔽
- [ ] **ファイル暗号化** - AES256対応

## 💡 実装ガイドライン

### 起動時の振る舞い
```typescript
// ❌ 悪い例：履歴を表示
async function onAppStart() {
  showRecentFiles();
  loadLastSession();
}

// ✅ 良い例：新鮮な状態
async function onAppStart() {
  initializeCleanState();
  focusMainInput();
}
```

### エラーハンドリング
```typescript
// ユーザーフレンドリーなエラー表示
function handleError(error: Error) {
  showToast({
    type: 'error',
    message: '処理中にエラーが発生しました',
    detail: error.message,
    duration: 5000
  });
}
```

### パフォーマンス最適化
```typescript
// 大量データ処理時のデバウンス
const debouncedUpdate = debounce((data) => {
  updateUI(data);
}, 100);
```

## 🌍 多言語対応方針

### 優先順位
1. **日本語** - 第一言語
2. **英語** - 国際対応
3. **その他** - 需要に応じて

### 実装方針
- UI文字列は外部化
- 絵文字アイコン多用で言語依存を減らす
- 数値・記号は国際標準に準拠

## 📊 品質基準

### パフォーマンス指標
- 起動時間: 3秒以内
- メモリ使用量: 200MB以下
- バイナリサイズ: 10MB以下
- レスポンス時間: 100ms以内

### 品質チェック項目
- [ ] 全プラットフォーム動作確認
- [ ] Raspberry Pi動作確認  
- [ ] 大容量データ処理確認
- [ ] メモリリーク確認
- [ ] キーボードショートカット確認
- [ ] ダークモード確認
- [ ] 日本語入力確認

---

## 🎊 開発フロー

1. **コンセプト設計** - 単機能の明確化
2. **UI/UXモックアップ** - 90%作業領域確保
3. **プロトタイプ開発** - 核となる機能のみ
4. **性能最適化** - Raspberry Pi基準
5. **多プラットフォーム検証** - 全環境確認
6. **ドキュメント整備** - README + 使用方法
7. **リリース** - 単一実行ファイル配布

---

*この哲学に基づいて、本当に役立つシンプルなアプリを作り続けていきます。* 